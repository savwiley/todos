(()=>{"use strict";let e=[];const t=document.querySelector("#content"),n=(document.querySelector(".cardside"),document.createElement("div"));n.setAttribute("class","sidebar"),t.appendChild(n);const r=document.createElement("div");r.setAttribute("class","overlay");const i=document.createElement("div");i.setAttribute("id","overlay");const d=document.createElement("form");d.setAttribute("id","newForm");const o=document.createElement("label");o.setAttribute("for","formTitle"),o.innerHTML="Title: ",d.appendChild(o);const l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("name","title"),l.setAttribute("id","formTitle"),d.appendChild(l);const c=document.createElement("label");c.setAttribute("for","formDesc"),c.setAttribute("id","descLabel"),c.innerHTML="Description: ",d.appendChild(c);const u=document.createElement("textarea");u.setAttribute("type","text"),u.setAttribute("name","desc"),u.setAttribute("id","formDesc"),d.appendChild(u);const a=document.createElement("label");a.setAttribute("for","formDueDate"),a.innerHTML="Due Date: ",d.appendChild(a);const s=document.createElement("input");s.setAttribute("type","date"),s.setAttribute("name","dueDate"),s.setAttribute("id","formDueDate"),d.appendChild(s);const m=document.createElement("label");m.setAttribute("for","formPriority"),m.innerHTML="Priority: ",d.appendChild(m);const p=document.createElement("select");p.setAttribute("name","priority"),p.setAttribute("id","priority"),d.appendChild(p);const b=document.createElement("option");b.setAttribute("value","low"),b.innerHTML="Low",p.appendChild(b);const A=document.createElement("option");A.setAttribute("value","medium"),A.innerHTML="Medium",p.appendChild(A);const v=document.createElement("option");v.setAttribute("value","high"),v.innerHTML="High",p.appendChild(v);const y=document.createElement("label");y.setAttribute("for","formProject"),y.innerHTML="Project: ",d.appendChild(y);const E=document.createElement("select");E.setAttribute("name","project"),E.setAttribute("id","project"),d.appendChild(E);const h=document.createElement("input");function C(){document.getElementById("formTitle").value="",document.getElementById("formDesc").value="",document.getElementById("formDueDate").value="",document.getElementById("priority").value="",document.getElementById("project").value="",document.querySelector(".overlay").style.display="block",document.getElementById("subBtn")&&document.getElementById("subBtn").remove();const e=document.getElementById("newForm"),t=document.createElement("input");t.setAttribute("type","button"),t.setAttribute("value","Submit"),t.setAttribute("id","subBtn"),t.addEventListener("click",f),e.appendChild(t)}function f(){new I(l.value,u.value,s.value,p.value,E.value),L(l.value,u.value,s.value,p.value,E.value)}h.setAttribute("type","button"),h.setAttribute("value","Cancel"),h.setAttribute("id","cancelBtn"),h.addEventListener("click",(()=>{document.querySelector(".overlay").style.display="none"})),d.appendChild(h),i.appendChild(d),r.appendChild(i),t.appendChild(r);let g=[];const D=document.querySelector("#content"),B=document.createElement("div");function I(e,t,n,r,i){this.title=e,this.desc=t,this.dueDate=n,this.priorty=r,g.push({title:e,desc:t,dueDate:n,priority:r,project:i});const d=document.querySelector(".cardside"),o=document.createElement("div");o.setAttribute("class","card"),o.setAttribute("data-proj",i),o.setAttribute("id",g.length);const l=document.createElement("div");l.setAttribute("id","Title"),l.setAttribute("class",`titleIndex${g.length}`),l.textContent=e,o.appendChild(l);const c=document.createElement("div");c.setAttribute("id","DueDate"),c.setAttribute("class",`dateIndex${g.length}`),c.textContent=`Due on ${n}`,o.appendChild(c);const u=document.createElement("input");u.setAttribute("id","complete"),u.setAttribute("type","checkbox"),u.addEventListener("change",(()=>{u.checked?(o.removeAttribute("class"),o.setAttribute("class","cardDone"),u.innerHTML='<i class="fas fa-check"></i>'):(o.removeAttribute("class"),o.setAttribute("class","card"),u.innerHTML="")})),o.appendChild(u);const a=document.createElement("div");a.setAttribute("id","Desc"),a.setAttribute("class",`descIndex${g.length}`),a.textContent=t,o.appendChild(a);const s=document.createElement("div");s.setAttribute("id","Priority"),s.setAttribute("class",`priIndex${g.length}`),o.style.borderColor="low"==r?"green":"medium"==r?"yellow":"red",o.appendChild(s);const m=document.createElement("input");m.setAttribute("id","delete"),m.setAttribute("type","button"),m.setAttribute("value","X"),m.addEventListener("click",(()=>{o.remove()})),o.appendChild(m);const p=document.createElement("button");p.setAttribute("id","edit"),p.setAttribute("type","submit"),p.innerHTML='<i class="fas fa-pen"></i>',p.addEventListener("click",(()=>{const e=o.getAttribute("id");!function(e,t){C();const n=document.querySelector(`.titleIndex${t}`),r=document.querySelector(`.descIndex${t}`),i=document.querySelector(`.dateIndex${t}`),d=document.getElementById("formTitle");d.value=n.textContent;const o=document.getElementById("formDesc");o.value=r.textContent;const l=document.getElementById("formDueDate");l.value=g[t-1].dueDate;const c=document.getElementById("priority");c.value=g[t-1].priority;const u=document.getElementById("project");u.value=g[t-1].project,document.getElementById("edBtn")&&document.getElementById("edBtn").remove();const a=document.querySelector("#subBtn");a.setAttribute("value","Edit"),a.removeEventListener("click",f),a.addEventListener("click",(()=>{g[t-1].title=d.value,n.textContent=d.value,g[t-1].desc=o.value,r.textContent=o.value,g[t-1].dueDate=l.value,i.textContent=`Due on ${l.value}`,g[t-1].priority=c.value,"low"==c.value?e.style.borderColor="green":"medium"==c.value?e.style.borderColor="yellow":e.style.borderColor="red",g[t-1].project=u.value,e.setAttribute("data-proj",u.value)})),document.getElementById("newForm").appendChild(a)}(o,e)})),o.appendChild(p),d.appendChild(o)}function L(){for(let e=0;e<g.length;e++)localStorage.setItem(`item${e}`,JSON.stringify(g[e]))}B.setAttribute("class","cardside"),D.appendChild(B),localStorage?function(){for(let e=0;e<localStorage.length;e++){const t=localStorage.getItem(`item${e}`),n=JSON.parse(t);new I(n.title,n.desc,n.dueDate,n.priority,n.project)}}():L(),function(){const e=document.createElement("input");e.setAttribute("id","newCard"),e.setAttribute("type","button"),e.setAttribute("value","New To-Do"),e.addEventListener("click",C),n.appendChild(e)}(),function(){const t=document.createElement("input");t.setAttribute("id","newProjForm"),t.setAttribute("type","text"),t.setAttribute("placeholder","Project Name"),n.appendChild(t);const r=document.createElement("input");r.setAttribute("id","newProjBtn"),r.setAttribute("type","button"),r.setAttribute("value","Make New Project"),r.addEventListener("click",(()=>{const r=document.createElement("input");r.setAttribute("class","projBtn"),r.setAttribute("id",e.length),r.setAttribute("type","button"),r.setAttribute("value",t.value),e.push(t.value);const i=document.createElement("option");i.setAttribute("value",e.length-1),i.innerHTML=t.value,E.appendChild(i),r.addEventListener("click",(()=>{document.querySelectorAll(".card").forEach((e=>{const t=e.getAttribute("data-proj"),n=r.getAttribute("id");e.style.display=t!==n?"none":"block"}))})),n.appendChild(r)})),n.appendChild(r)}(),function(){const e=document.createElement("input");e.setAttribute("id","defaultProj"),e.setAttribute("type","button"),e.setAttribute("value","See All"),e.addEventListener("click",(()=>{document.querySelectorAll(".card").forEach((e=>{e.style.display="block"}))})),n.appendChild(e)}()})();